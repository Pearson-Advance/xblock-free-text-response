<<<<<<< HEAD
function FreeTextResponseView(a,b){"use strict";function c(a){n.removeClass("correct"),n.removeClass("incorrect"),n.removeClass("unanswered"),n.addClass(a)}var d=window.jQuery,e=d(b),f=d("#seq_content"),g=e.find(".check.Submit"),h=e.find(".save"),i=e.find(".action .used-attempts-feedback"),j=e.find(".problem-progress"),k=e.find(".submission-received"),l=e.find(".user_alert"),m=e.find(".student_answer"),n=m.parent(),o=a.handlerUrl(b,"submit"),p=a.handlerUrl(b,"save_reponse"),q=e.attr("data-usage-id"),r=q+"_cached_answer",s=q+"_problem_progress",t=q+"_used_attempts_feedback";void 0!==f.data(r)&&(m.text(f.data(r)),j.text(f.data(s)),i.text(f.data(t))),a.notify=a.notify||function(){console.log("POLYFILL runtime.notify",arguments)},g.on("click",function(){return g.text(g[0].dataset.checking),a.notify("submit",{message:"Submitting...",state:"start"}),d.ajax(o,{type:"POST",data:JSON.stringify({student_answer:e.find(".student_answer").val()}),success:function(b){i.text(b.used_attempts_feedback),g.addClass(b.nodisplay_class),j.text(b.problem_progress),k.text(b.submitted_message),g.text(g[0].dataset.value),l.text(b.user_alert),h.addClass(b.nodisplay_class),c(b.indicator_class),f.data(r,e.find(".student_answer").val()),f.data(s,b.problem_progress),f.data(t,b.used_attempts_feedback),a.notify("submit",{state:"end"})},error:function(){a.notify("error",{})}}),!1}),h.on("click",function(){return h.text(h[0].dataset.checking),a.notify("save",{message:"Saving...",state:"start"}),d.ajax(p,{type:"POST",data:JSON.stringify({student_answer:e.find(".student_answer").val()}),success:function(b){g.addClass(b.nodisplay_class),h.addClass(b.nodisplay_class),i.text(b.used_attempts_feedback),j.text(b.problem_progress),k.text(b.submitted_message),h.text(h[0].dataset.value),l.text(b.user_alert),f.data(r,e.find(".student_answer").val()),f.data(s,b.problem_progress),f.data(t,b.used_attempts_feedback),a.notify("save",{state:"end"})},error:function(){a.notify("error",{})}}),!1}),m.on("keydown",function(){k.text(""),l.text(""),c("unanswered")})}
=======
function FreeTextResponseView(a,b,c){"use strict";function d(a){o.removeClass("correct"),o.removeClass("incorrect"),o.removeClass("unanswered"),o.addClass(a)}var e=window.jQuery,f=c.freetextBlockId;null!=localStorage.getItem("student_answer_saved_"+f)&&e("#"+f).html(localStorage.getItem("student_answer_saved_"+f));var g=e(b),h=g.find(".check.Submit"),i=g.find(".save"),j=g.find(".action .used-attempts-feedback"),k=g.find(".problem-progress"),l=g.find(".submission-received"),m=g.find(".user_alert"),n=g.find(".student_answer"),o=n.parent(),p=a.handlerUrl(b,"submit"),q=a.handlerUrl(b,"save_reponse");a.notify=a.notify||function(){console.log("POLYFILL runtime.notify",arguments)},h.on("click",function(){return h.text("Checking..."),a.notify("submit",{message:"Submitting...",state:"start"}),localStorage.removeItem("student_answer_saved_"+f),e.ajax(p,{type:"POST",data:JSON.stringify({student_answer:g.find(".student_answer").val()}),success:function(b){j.text(b.used_attempts_feedback),h.addClass(b.nodisplay_class),k.text(b.problem_progress),l.text(b.submitted_message),h.text("Submit"),m.text(b.user_alert),i.addClass(b.nodisplay_class),d(b.indicator_class),a.notify("submit",{state:"end"})},error:function(){a.notify("error",{})}}),!1}),i.on("click",function(){i.text("Checking..."),a.notify("save",{message:"Saving...",state:"start"});var b=e("#"+f).val();return localStorage.setItem("student_answer_saved_"+f,b),e.ajax(q,{type:"POST",data:JSON.stringify({student_answer:g.find(".student_answer").val()}),success:function(b){h.addClass(b.nodisplay_class),i.addClass(b.nodisplay_class),j.text(b.used_attempts_feedback),k.text(b.problem_progress),l.text(b.submitted_message),i.text("Save"),m.text(b.user_alert),a.notify("save",{state:"end"})},error:function(){a.notify("error",{})}}),!1}),n.on("keydown",function(){l.text(""),m.text(""),d("unanswered")})}
>>>>>>> Proversity/fix save button with local storage (#14)
//# sourceMappingURL=view.js.min.js.map
